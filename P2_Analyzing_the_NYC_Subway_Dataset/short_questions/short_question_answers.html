<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>
  short_question_answers.md
  
    - Grip
  
</title>
  <link rel="icon" href="/grip-static/favicon.ico" /><link rel="stylesheet" href="/grip-cache/index-17ad0ea72cb80a46ba6d1bd6e3c69789acb0e1c0cae43beb90477759cce1bdfd.css" />
  <link rel="stylesheet" href="/grip-cache/index-9f11074052a3551cd7bae2fba8b949844d2d7329927a7f1cb5a2c2a821f016e0.css" />
  <style>
    /* Page tweaks */
    .preview-page {
      margin-top: 64px;
    }
    /* Discussion tweaks */
    .discussion-timeline.wide {
      width: 920px;
    }
    .timeline-comment-wrapper > .timeline-comment:after,
    .timeline-comment-wrapper > .timeline-comment:before {
      content: none;
    }
  </style>
</head>
<body>
  <div class="page">
    <div class="preview-page">
    <div class="container">
      <div class="repository-with-sidebar repo-container with-full-navigation">

        
          <div class="repository-content context-loader-container">
            <div id="readme" class="boxed-group flush clearfix announce instapaper_body md">
              
                <h3>
                  <span class="octicon octicon-book"></span>
                  short_question_answers.md
                </h3>
              
              <div class="markdown-body entry-content">
                <h1>
<a id="user-content-analyzing-the-nyc-subway-dataset" class="anchor" href="#analyzing-the-nyc-subway-dataset" aria-hidden="true"><span class="octicon octicon-link"></span></a>Analyzing the NYC Subway Dataset</h1>

<h3>
<a id="user-content-section-1-statistical-test" class="anchor" href="#section-1-statistical-test" aria-hidden="true"><span class="octicon octicon-link"></span></a>Section 1. Statistical Test</h3>

<h4>
<a id="user-content-11-which-statistical-test-did-you-use-to-analyze-the-nyc-subway-data-did-you-use-a-one-tail-or-a-two-tail-p-value-what-is-the-null-hypothesis-what-is-your-p-critical-value" class="anchor" href="#11-which-statistical-test-did-you-use-to-analyze-the-nyc-subway-data-did-you-use-a-one-tail-or-a-two-tail-p-value-what-is-the-null-hypothesis-what-is-your-p-critical-value" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.1 Which statistical test did you use to analyze the NYC subway data? Did you use a one-tail or a two-tail P value? What is the null hypothesis? What is your p-critical value?</h4>

<p>The Mann-Whitney U-test was used to analyze the NYC subway data and compare ridership on rainy and non-rainy days. A two-tail test was ideal for this analysis. The null hypothesis was that the two populations of rainy and non-rainy days were the same, that is, there was no correlation with ridership. The p-critical value used was 0.05.</p>

<h4>
<a id="user-content-12-why-is-this-statistical-test-applicable-to-the-dataset-in-particular-consider-the-assumptions-that-the-test-is-making-about-the-distribution-of-ridership-in-the-two-samples" class="anchor" href="#12-why-is-this-statistical-test-applicable-to-the-dataset-in-particular-consider-the-assumptions-that-the-test-is-making-about-the-distribution-of-ridership-in-the-two-samples" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.2 Why is this statistical test applicable to the dataset? In particular, consider the assumptions that the test is making about the distribution of ridership in the two samples.</h4>

<p>The non-parametric Mann-Whitney test was applicable given the non-normal distribution of rainy and non-rainy populations as illustrated in Section 3.1.</p>

<h4>
<a id="user-content-13-what-results-did-you-get-from-this-statistical-test-these-should-include-the-following-numerical-values-p-values-as-well-as-the-means-for-each-of-the-two-samples-under-test" class="anchor" href="#13-what-results-did-you-get-from-this-statistical-test-these-should-include-the-following-numerical-values-p-values-as-well-as-the-means-for-each-of-the-two-samples-under-test" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.3 What results did you get from this statistical test? These should include the following numerical values: p-values, as well as the means for each of the two samples under test.</h4>

<table>
<thead>
<tr>
<th align="center">Statistical metric</th>
<th align="center">Values</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Mean for rainy population</td>
<td align="center">1,105.45</td>
</tr>
<tr>
<td align="center">Mean for non-rainy population</td>
<td align="center">1,090.28</td>
</tr>
<tr>
<td align="center">Percent difference in mean (rainy vs. non-rainy)</td>
<td align="center">1.4%</td>
</tr>
<tr>
<td align="center">U-statistic</td>
<td align="center">1,924,409,167.0</td>
</tr>
<tr>
<td align="center">p-value (one-sided)</td>
<td align="center">0.024999912</td>
</tr>
<tr>
<td align="center">p-value (two-sided)</td>
<td align="center">0.049999825</td>
</tr>
</tbody>
</table>

<h4>
<a id="user-content-14-what-is-the-significance-and-interpretation-of-these-results" class="anchor" href="#14-what-is-the-significance-and-interpretation-of-these-results" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.4 What is the significance and interpretation of these results?</h4>

<p>The null hypothesis is rejected. While the percent difference between the means are very small (1.4%), the U-statistic is very, very large at 1,924,409,167.0, which is close to its theoretical maximum, and the two-sided p-value of 0.049 is less than the p-critical of 0.05. There is a statistical difference between the ridership on rainy and non-rainy days.</p>

<h3>
<a id="user-content-section-2-linear-regression" class="anchor" href="#section-2-linear-regression" aria-hidden="true"><span class="octicon octicon-link"></span></a>Section 2. Linear Regression</h3>

<h4>
<a id="user-content-21-what-approach-did-you-use-to-compute-the-coefficients-theta-and-produce-prediction-for-entriesn_hourly-in-your-regression-model" class="anchor" href="#21-what-approach-did-you-use-to-compute-the-coefficients-theta-and-produce-prediction-for-entriesn_hourly-in-your-regression-model" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.1 What approach did you use to compute the coefficients theta and produce prediction for ENTRIESn_hourly in your regression model?</h4>

<p>A machine learning algorithm using OLS with statsmodel was used to train the linear regression coefficients. </p>

<h4>
<a id="user-content-22-what-features-input-variables-did-you-use-in-your-model-did-you-use-any-dummy-variables-as-part-of-your-features" class="anchor" href="#22-what-features-input-variables-did-you-use-in-your-model-did-you-use-any-dummy-variables-as-part-of-your-features" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.2 What features (input variables) did you use in your model? Did you use any dummy variables as part of your features?</h4>

<p>The features used were rain, precipitation, mean wind speed, hour of the day, mean temperature, and weekday. The dummy variable used were the turnstile <em>unit</em> identifications. Linear regression was not applied to the unit parameters.</p>

<h4>
<a id="user-content-23-why-did-you-select-these-features-in-your-model" class="anchor" href="#23-why-did-you-select-these-features-in-your-model" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.3 Why did you select these features in your model?</h4>

<p>The default feature set of rain, precipitation, hour and mean temperature were preserved as they maintained a higher R-squared. Two further features, mean wind speed and weekday, were included as they were likely drivers for ridership; there was a boost in R-squared by including mean wind speed and weekday features.</p>

<h4>
<a id="user-content-24-what-are-the-parameters-also-known-as-coefficients-or-weights-of-the-non-dummy-features-in-your-linear-regression-model" class="anchor" href="#24-what-are-the-parameters-also-known-as-coefficients-or-weights-of-the-non-dummy-features-in-your-linear-regression-model" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.4 What are the parameters (also known as "coefficients" or "weights") of the non-dummy features in your linear regression model?</h4>

<p>[ 3124.375   3393.75    3663.0625 ...,  1047.0625  1047.0625  1047.0625]</p>

<h4>
<a id="user-content-25-what-is-your-models-r2-coefficients-of-determination-value" class="anchor" href="#25-what-is-your-models-r2-coefficients-of-determination-value" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.5 What is your modelâ€™s R2 (coefficients of determination) value?</h4>

<p>0.463491462688</p>

<h4>
<a id="user-content-26-what-does-this-r2-value-mean-for-the-goodness-of-fit-for-your-regression-model-do-you-think-this-linear-model-to-predict-ridership-is-appropriate-for-this-dataset-given-this-r2--value" class="anchor" href="#26-what-does-this-r2-value-mean-for-the-goodness-of-fit-for-your-regression-model-do-you-think-this-linear-model-to-predict-ridership-is-appropriate-for-this-dataset-given-this-r2--value" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.6 What does this R2 value mean for the goodness of fit for your regression model? Do you think this linear model to predict ridership is appropriate for this dataset, given this R2  value?</h4>

<p>The R2 value of 0.463 (46.3%) is a low measure for the goodness of fit of variability in our regression model. This model may be appropriate for <em>ball-park</em> estimations. The adequacy of the linear regression can also be examined through the distribution of residuals, the difference between the predicted and the actual values.</p>

<p><a href="https://raw.githubusercontent.com/arvin-dwarka/Udacity_Data_Analyst/master/P2_Analyzing_the_NYC_Subway_Dataset/ps3/figure_2.png" target="_blank"><img src="https://raw.githubusercontent.com/arvin-dwarka/Udacity_Data_Analyst/master/P2_Analyzing_the_NYC_Subway_Dataset/ps3/figure_2.png" alt="Image of residual points" style="max-width:100%;"></a></p>

<p>The histogram of the residuals has long tails, which suggests that there are some very large residuals - a reason to question the linear regression model. Perhaps, advance studies on the drivers of readership coupled with polynomial regressions may be prove to be a better fit.</p>

<h3>
<a id="user-content-section-3-visualization" class="anchor" href="#section-3-visualization" aria-hidden="true"><span class="octicon octicon-link"></span></a>Section 3. Visualization</h3>

<h4>
<a id="user-content-31-one-visualization-should-contain-two-histograms-one-of--entriesn_hourly-for-rainy-days-and-one-of-entriesn_hourly-for-non-rainy-days" class="anchor" href="#31-one-visualization-should-contain-two-histograms-one-of--entriesn_hourly-for-rainy-days-and-one-of-entriesn_hourly-for-non-rainy-days" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.1 One visualization should contain two histograms: one of  ENTRIESn_hourly for rainy days and one of ENTRIESn_hourly for non-rainy days.</h4>

<p><a href="https://raw.githubusercontent.com/arvin-dwarka/Udacity_Data_Analyst/master/P2_Analyzing_the_NYC_Subway_Dataset/ps3/figure_1.png" target="_blank"><img src="https://raw.githubusercontent.com/arvin-dwarka/Udacity_Data_Analyst/master/P2_Analyzing_the_NYC_Subway_Dataset/ps3/figure_1.png" alt="Image of histogram of ridership on rainy and non-rainy days" style="max-width:100%;"></a></p>

<p>The above illustration depicts the non-normal distribution of ridership between rainy and non-rainy days. It should be noted that the two populations are not of equal sizes. Section 1.3 dives deeper into the statistical analysis of these two populations.</p>

<h4>
<a id="user-content-32-one-visualization-can-be-more-freeform" class="anchor" href="#32-one-visualization-can-be-more-freeform" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2 One visualization can be more freeform.</h4>

<p><a href="https://raw.githubusercontent.com/arvin-dwarka/Udacity_Data_Analyst/master/P2_Analyzing_the_NYC_Subway_Dataset/ps4/figure_2.png" target="_blank"><img src="https://raw.githubusercontent.com/arvin-dwarka/Udacity_Data_Analyst/master/P2_Analyzing_the_NYC_Subway_Dataset/ps4/figure_2.png" alt="Image of ridership over the weekdays" style="max-width:100%;"></a></p>

<p>The above diagram shows the mean trend in ridership over the course of a week. It can be observed that ridership is high during the weekdays (Monday to Friday) and the lowest on the weekends (Saturday and Sunday). This is inline with the thought that people would use the subway mostly during the normal working days. Hence, weekdays were used as a feature in Section 2.3.</p>

<h3>
<a id="user-content-section-4-conclusion" class="anchor" href="#section-4-conclusion" aria-hidden="true"><span class="octicon octicon-link"></span></a>Section 4. Conclusion</h3>

<h4>
<a id="user-content-41-from-your-analysis-and-interpretation-of-the-data-do-more-people-ride-the-nyc-subway-when-it-is-raining-or-when-it-is-not-raining" class="anchor" href="#41-from-your-analysis-and-interpretation-of-the-data-do-more-people-ride-the-nyc-subway-when-it-is-raining-or-when-it-is-not-raining" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.1 From your analysis and interpretation of the data, do more people ride the NYC subway when it is raining or when it is not raining?</h4>

<p>Based on the Mann-Whitney U-test producing a very high U-statistic and a p-value of 0.049, it can be concluded with high certainty that more people ride the NYC subway on rainy days. It is very likely and understandable that rain is a motivator for people to seek refuge by using the subway instead of other modes of travel, such as walking and biking.</p>

<h4>
<a id="user-content-42-what-analyses-lead-you-to-this-conclusion-you-should-use-results-from-both-your-statistical-tests-and-your-linear-regression-to-support-your-analysis" class="anchor" href="#42-what-analyses-lead-you-to-this-conclusion-you-should-use-results-from-both-your-statistical-tests-and-your-linear-regression-to-support-your-analysis" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.2 What analyses lead you to this conclusion? You should use results from both your statistical tests and your linear regression to support your analysis.</h4>

<p>The Mann-Whitney U-test was used to draw the above conclusion despite the percent difference between the means of rainy and non-rainy populations being only 1.4% The positive coefficient for the rain feature parameter further indicates that rain contributed to the increase in ridership. Yet, the low R2 of 46.3% indicates that there is a fairly weak correlation to ridership.</p>

<h3>
<a id="user-content-section-5-reflection" class="anchor" href="#section-5-reflection" aria-hidden="true"><span class="octicon octicon-link"></span></a>Section 5. Reflection</h3>

<h4>
<a id="user-content-51-please-discuss-potential-shortcomings-of-the-methods-of-your-analysis-including-dataset-analysis-such-as-the-linear-regression-model-or-statistical-test" class="anchor" href="#51-please-discuss-potential-shortcomings-of-the-methods-of-your-analysis-including-dataset-analysis-such-as-the-linear-regression-model-or-statistical-test" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.1 Please discuss potential shortcomings of the methods of your analysis, including: Dataset; analysis, such as the linear regression model or statistical test.</h4>

<p>When inspecting the dataset, it can be noted that there was more entries than exits, as well as more non-rainy days than rainy days. This could have likely happened due to errors/miscounts on some turnstiles, and the vast variability in ridership by <em>units</em>. It is likely that taking a larger dataset over the course of multiple months and normalizing the data by subway locations could have resolved these issues. </p>

<p>Furthermore, it should be noted that many variables included in the dataset that might be very closely related such as minimum, mean and maximum temperature. It may be difficult to disentangle the effects of such similar features and running the risk of problems with collinearity. This can cause some linear regression algorithms to give incorrect results.</p>

<p>The quantitative analysis used in this project had some shortcomings. Notably, the low R2 value. As discussed in Section 2.6, the inclusion of more features through a more expansive study or polynomial regressions could have increased the accuracy of the model. The machine learning algorithm used was unsupervised. It may have been beneficial to split the dataset into a trained and untrained sample sets.</p>

<h4>
<a id="user-content-52-optional-do-you-have-any-other-insight-about-the-dataset-that-you-would-like-to-share-with-us" class="anchor" href="#52-optional-do-you-have-any-other-insight-about-the-dataset-that-you-would-like-to-share-with-us" aria-hidden="true"><span class="octicon octicon-link"></span></a>5.2 (Optional) Do you have any other insight about the dataset that you would like to share with us?</h4>

<p>The machine learning algorithm used here was very interesting and had a very steep learning curve. It'd be interesting to see if I can revisit this analysis once I'm done with the machine learning course. I would have liked to use gradient descent and cost analysis a little more with this dataset.</p>

<h3>
<a id="user-content-references" class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h3>

<ul>
<li><a href="http://aimotion.blogspot.ca/2011/10/machine-learning-with-python-linear.html">Machine Learning with Python - Linear Regression</a></li>
<li><a href="https://en.wikipedia.org/wiki/U-statistic">U-statistic</a></li>
<li><a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.mannwhitneyu.html#scipy.stats.mannwhitneyu">SciPy documentation</a></li>
<li><a href="http://statsmodels.sourceforge.net/0.5.0/generated/statsmodels.regression.linear_model.OLS.html">Stats model documentation</a></li>
<li><a href="http://docs.ggplot2.org/0.9.3.1/index.html">ggplot documentation</a></li>
<li><a href="http://en.wikipedia.org/wiki/Multicollinearity">Multicollinearity</a></li>
</ul>

              </div>
            </div>
          </div>
        

      </div>
    </div>
  </div>
  <div>&nbsp;</div>
  </div><script>
    function showCanonicalImages() {
      var images = document.getElementsByTagName('img');
      if (!images) {
        return;
      }
      for (var index = 0; index < images.length; index++) {
        var image = images[index];
        if (image.getAttribute('data-canonical-src')) {
          image.src = image.getAttribute('data-canonical-src');
        }
      }
    }
    function scrollToHash() {
      if (location.hash && !document.querySelector(":target")) {
        var element = document.getElementById('user-content-' + location.hash.slice(1));
        if (element) {
           element.scrollIntoView();
        }
      }
    }
    window.onhashchange = function() {
      scrollToHash();
    }
    window.onload = function() {
      scrollToHash();
    }
    showCanonicalImages();
  </script>
</body>
</html>